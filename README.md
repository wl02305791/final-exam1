# jquery
* [w3schools jQuery Tutorial](https://www.w3schools.com/jquery/default.asp)
* [JavaScript Where To](https://www.w3schools.com/js/js_whereto.asp)

Q: 請說明把 JavaScript 放到外部檔案有那些優點？ (External JavaScript Advantages) ?
A1:
js是阻塞加載，會影響頁面加載的速度，如果js文件比較大，算法也比較複雜的話，影響更大。
CSS放在前端是頁面渲染時首先是根據DOM結構生成一個DOM樹然後加上CSS樣式生成一個渲染樹，如果CSS放在後面可能頁面會出現閃跳的感覺，
或者是白屏或者佈局混亂樣式很醜直到CSS加載完成。
js非阻塞加載解決方案也有 
1是用defer標籤
2是用createElement來動態生成，但是這樣有一個問題就是加載順序在IE下不一定會是按代碼寫的順序來加載，可能會影響到依賴項，
有些文件就是必須在另一個文件前引用。火狐跟opera是按順序加載的
3是用ajax加載，也是非阻塞似的但是這種方法不支持CDN  

A2:
一般來說css放頭部js放底部來確保用戶至少能早一點看到界面，讓網站看起來至少反應快一點，不過如果css稍微有點多了，會讓屏幕白屏時間更長，
所以，並不是說把css都放頂部是一個完美的方法，而且有些js必須在頁面加載前執行掉。
所以應該是這樣，把必須的js和css放頂部，把不那麼重要的css和js放底部。  

A3:
JS 和CSS 在頁面中的位置，會影響其他資源（指img 等非js 和css 資源）的加載順序，究其原因，有三個值得注意的點：
1: JS有可能會修改DOM.典型的，可能會有document.write.  
這意味著，在當前JS加載和執行完成前，後續所有資源的下載有可能是沒必要的這是JS阻塞後續資源下載的根本原因。
2: JS的執行有可能依賴最新樣式。比如，可能會有var width = $('#id').width().這意味著，JS代碼在執行前，
  瀏覽器必須保證在此JS之前的所有css（無論外鏈還是內嵌）都已下載和解析完成。這是CSS阻塞後續JS執行的根本原因。
3:現代瀏覽器很聰明，會進行prefetch優化。性能是如此重要，現代瀏覽器在競爭中，在UI update線程之外，
  還會開啟另一個線程，對後續JS和CSS提前下載（注意，僅提前下載，並不執行）。有了prefetch優化，這意味著，
 在不存在任何阻塞的情況下，理論上JS和CSS的下載時機都非常優先，和位置無關。 

A4:
如果在head裡有javascript文件，那麼必須是先要把這些文件都下載，解析，然後執行之後，程序才會繼續往下走。這樣勢必會影響速度。
所以有一種方法是加defer這個屬性。這個屬性的用途是表明腳本在執行時不會影響頁面的構造。也就是說，腳本會被延遲到整個頁面都解析完畢後再運行。
但採用這種方法，會有一種缺陷。在有些瀏覽器中。並不會按照你自己文件的順序執行下來。並且有的瀏覽器還會忽略這種屬性。
所以最好不要採用這樣的方法。所以個人推薦將引入的文件放到後面。對於自己寫的js代碼，如果說這些代碼要用到正文裡的東西，
那麼也建議寫在後面。因為當運行js代碼的時候，如果你用到的正文中的某個東西，但是正文沒有加載，所以有可能會出錯。
但在現實中，更多的時候我們是採用事件驅動這種形式。所以這樣的問題不會太大。主要還是速度。放在後面，速度可能更快。  


